{"version":3,"sources":["webpack:///./src/views/Doc.vue?2506","webpack:///./src/views/Doc.vue?c2c2","webpack:///src/views/Doc.vue","webpack:///./src/views/Doc.vue?ad33","webpack:///./src/views/Doc.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","on","$event","toIndex","slot","handleSelect","model","value","callback","$$v","fav","expression","_l","item","key","label","disabled","collect","_v","showModal","hideModal","visible","documentlinks","directives","name","rawName","arg","confirm","toPmsg","signOut","ref","form","onSubmit","showDrawer","_e","required","message","trigger","min","max","$set","showable","toolbars","content","visible_drawer","afterVisibleChange","onClose","pagination","comment","scopedSlots","_u","fn","action","like","_s","likes","dislike","dislikes","time","toUser","avatar","newcontent","addcomment","staticRenderFns","component"],"mappings":"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","file":"js/chunk-7fae2b3e.c8d23624.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Doc.vue?vue&type=style&index=0&id=55915f4a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Doc.vue?vue&type=style&index=0&id=55915f4a&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"docedit\",staticStyle:{\"width\":\"900px\",\"margin\":\"220px auto\",\"text-align\":\"center\"}},[[_c('div',[_c('a-page-header',{staticStyle:{\"border\":\"1px solid rgb(235, 237, 240)\"},attrs:{\"title\":\"标题\",\"sub-title\":\"修改时间\"},on:{\"back\":function($event){return _vm.toIndex()}}},[_c('template',{slot:\"extra\"},[_c('el-menu',{staticClass:\"el-menu-demo\",attrs:{\"mode\":\"horizontal\",\"active-text-color\":\"none\"},on:{\"select\":_vm.handleSelect}},[_c('el-menu-item',{attrs:{\"index\":\"1\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.fav),callback:function ($$v) {_vm.fav=$$v},expression:\"fav\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value,\"disabled\":item.disabled}})}),1)],1),_c('el-menu-item',{attrs:{\"index\":\"1\"}},[_c('a-button',{on:{\"click\":_vm.collect}},[_vm._v(\"收藏\")])],1),_c('el-menu-item',{staticClass:\"nav\",attrs:{\"index\":\"2\"}},[[_c('div',[_c('a-button',{on:{\"click\":_vm.showModal}},[_vm._v(\"分享\")]),_c('a-modal',{staticStyle:{\"z-index\":\"10010\"},attrs:{\"title\":\"分享文件\",\"ok-text\":\"确认\",\"cancel-text\":\"取消\"},on:{\"ok\":_vm.hideModal},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('a-input-search',{attrs:{\"size\":\"large\",\"placeholder\":_vm.documentlinks,\"disabled\":\"\"}},[_c('a-button',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(_vm.documentlinks),expression:\"documentlinks\",arg:\"copy\"}],attrs:{\"slot\":\"enterButton\"},slot:\"enterButton\"},[_vm._v(\" 复制链接 \")])],1)],1),_c('br'),_c('br'),_c('a-button',{on:{\"click\":_vm.confirm}},[_vm._v(\"Confirm\")])],1)]],2),_c('el-menu-item',{staticClass:\"nav\",attrs:{\"index\":\"3\"}},[_vm._v(\" 消息中心 \"),_c('i',{staticClass:\"el-icon-s-promotion\"})]),_c('el-submenu',{staticClass:\"nav\",attrs:{\"index\":\"4\"}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\"个人中心 \")]),_c('el-menu-item',{attrs:{\"index\":\"2-1\"},on:{\"click\":_vm.toPmsg}},[_vm._v(\"个人主页\")]),_c('el-menu-item',{attrs:{\"index\":\"2-2\"},on:{\"click\":_vm.signOut}},[_vm._v(\"退出登录\")])],2)],1)],1)],2)],1)],_c('el-form',{ref:\"form\",staticStyle:{\"margin-top\":\"10px\",\"margin-left\":\"5px\",\"font-size\":\"38px\"},attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[(this.isedit)?_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('form')}}},[_vm._v(\"保存\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.showDrawer}},[_vm._v(\"评论\")])],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"文件名\",\"prop\":\"docname\",\"rules\":[\n                    {required: true, message: '请输入标题', trigger: 'blur'},\n                    {min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur'}\n        ]}},[_c('el-input',{model:{value:(_vm.form.docname),callback:function ($$v) {_vm.$set(_vm.form, \"docname\", $$v)},expression:\"form.docname\"}})],1),_c('el-form-item',[_c('mavon-editor',{ref:\"md\",staticStyle:{\"z-index\":\"1\",\"border\":\"1px solid #d9d9d9\",\"height\":\"85vh\"},attrs:{\"editable\":_vm.showable,\"placeholder\":\"请输入文档内容...\",\"boxShadow\":true,\"toolbars\":_vm.toolbars},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)],1),[_c('div',[_c('a-drawer',{attrs:{\"title\":\"文档评论\",\"placement\":\"right\",\"closable\":false,\"visible\":_vm.visible_drawer,\"after-visible-change\":_vm.afterVisibleChange,\"width\":\"500\"},on:{\"close\":_vm.onClose}},[[_c('a-list',{attrs:{\"item-layout\":\"vertical\",\"size\":\"large\",\"pagination\":_vm.pagination,\"data-source\":_vm.comment},scopedSlots:_vm._u([{key:\"renderItem\",fn:function(item){return _c('a-list-item',{key:\"item.title\"},[_c('template',{slot:\"actions\"},[_c('span',{key:\"comment-basic-like\"},[_c('a-tooltip',{attrs:{\"title\":\"Like\"}},[_c('a-icon',{attrs:{\"type\":\"like\",\"theme\":_vm.action === 'liked' ? 'filled' : 'outlined'},on:{\"click\":_vm.like}})],1),_c('span',{staticStyle:{\"padding-left\":\"8px\",\"cursor\":\"auto\"}},[_vm._v(_vm._s(item.likes))])],1),_c('span',{key:\"comment-basic-dislike\"},[_c('a-tooltip',{attrs:{\"title\":\"Dislike\"}},[_c('a-icon',{attrs:{\"type\":\"dislike\",\"theme\":_vm.action === 'disliked' ? 'filled' : 'outlined'},on:{\"click\":_vm.dislike}})],1),_c('span',{staticStyle:{\"padding-left\":\"8px\",\"cursor\":\"auto\"}},[_vm._v(_vm._s(item.dislikes))])],1),_c('span',{key:\"comment-basic-reply-to\"},[_vm._v(\"Reply to\")]),_c('span',[_vm._v(_vm._s(item.time))])]),_c('b',{staticStyle:{\"padding-left\":\"5%\"},on:{\"click\":function($event){return _vm.toUser(item)}}},[_vm._v(_vm._s(item.name))]),_c('a-list-item-meta',{attrs:{\"description\":item.content}},[_c('a-avatar',{attrs:{\"slot\":\"avatar\",\"src\":item.avatar},on:{\"click\":function($event){return _vm.toUser(item)}},slot:\"avatar\"})],1)],2)}}])})],_c('a-divider'),(this.isedit)?_c('a-textarea',{attrs:{\"placeholder\":\"请输入评论\",\"auto-size\":\"\"},model:{value:(_vm.newcontent),callback:function ($$v) {_vm.newcontent=$$v},expression:\"newcontent\"}}):_vm._e(),_c('br'),_c('br'),(this.isedit)?_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addcomment}},[_vm._v(\"提交评论 \")]):_vm._e()],2)],1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"docedit\" style=\"width:900px;margin:220px auto;text-align:center\">\r\n        <template>\r\n            <div>\r\n                <a-page-header\r\n                        style=\"border: 1px solid rgb(235, 237, 240)\"\r\n                        title=\"标题\"\r\n                        sub-title=\"修改时间\"\r\n                        @back=\"toIndex()\"\r\n                >\r\n                    <template slot=\"extra\">\r\n                        <el-menu\r\n                                class=\"el-menu-demo\"\r\n                                mode=\"horizontal\"\r\n                                @select=\"handleSelect\"\r\n                                active-text-color=\"none\"\r\n                        >\r\n                            <el-menu-item index=\"1\">\r\n                                <el-select v-model=\"fav\" placeholder=\"请选择\">\r\n                                    <el-option\r\n                                            v-for=\"item in options\"\r\n                                            :key=\"item.value\"\r\n                                            :label=\"item.label\"\r\n                                            :value=\"item.value\"\r\n                                            :disabled=\"item.disabled\">\r\n                                    </el-option>\r\n                                </el-select>\r\n                            </el-menu-item>\r\n                            <el-menu-item index=\"1\">\r\n                                <a-button @click=\"collect\">收藏</a-button>\r\n                            </el-menu-item>\r\n                            <el-menu-item index=\"2\" class=\"nav\">\r\n                                <template>\r\n                                    <div>\r\n                                        <a-button @click=\"showModal\">分享</a-button>\r\n                                        <a-modal\r\n                                                v-model=\"visible\"\r\n                                                title=\"分享文件\"\r\n                                                ok-text=\"确认\"\r\n                                                cancel-text=\"取消\"\r\n                                                @ok=\"hideModal\"\r\n                                                style=\"z-index:10010\"\r\n                                        >\r\n                                            <a-input-search\r\n                                                    size=\"large\"\r\n                                                    :placeholder=\"documentlinks\"\r\n                                                    disabled\r\n                                            >\r\n                                                <a-button slot=\"enterButton\" v-clipboard:copy=\"documentlinks\">\r\n                                                    <!--粘贴失败或者成功的提示，应该用不到 v-clipboard:success=\"onCopy\"\r\n                                                    v-clipboard:error=\"onError\"-->\r\n                                                    复制链接\r\n                                                </a-button>\r\n                                            </a-input-search>\r\n                                        </a-modal>\r\n                                        <br/>\r\n                                        <br/>\r\n                                        <a-button @click=\"confirm\">Confirm</a-button>\r\n                                    </div>\r\n                                </template>\r\n                            </el-menu-item>\r\n                            <el-menu-item index=\"3\" class=\"nav\">\r\n                                消息中心\r\n                                <i class=\"el-icon-s-promotion\"></i>\r\n                            </el-menu-item>\r\n                            <el-submenu index=\"4\" class=\"nav\">\r\n                                <template slot=\"title\">\r\n                                    <i class=\"el-icon-user\"></i>个人中心\r\n                                </template>\r\n                                <el-menu-item index=\"2-1\" @click=\"toPmsg\">个人主页</el-menu-item>\r\n                                <el-menu-item index=\"2-2\" @click=\"signOut\">退出登录</el-menu-item>\r\n                            </el-submenu>\r\n                        </el-menu>\r\n                    </template>\r\n                </a-page-header>\r\n            </div>\r\n        </template>\r\n\r\n        <!-- 评论部分 -->\r\n        <el-form\r\n                ref=\"form\"\r\n                :model=\"form\"\r\n                label-width=\"80px\"\r\n                style=\"margin-top:10px;margin-left:5px;font-size:38px\"\r\n        >\r\n            <el-form-item v-if=\"this.isedit\">\r\n                <el-button type=\"primary\" @click=\"onSubmit('form')\">保存</el-button>\r\n                <el-button type=\"success\" @click=\"showDrawer\">评论</el-button>\r\n            </el-form-item>\r\n            <el-form-item\r\n                    label=\"文件名\"\r\n                    prop=\"docname\"\r\n                    :rules=\"[\r\n                        {required: true, message: '请输入标题', trigger: 'blur'},\r\n                        {min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur'}\r\n            ]\"\r\n            >\r\n                <el-input v-model=\"form.docname\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <mavon-editor\r\n                        ref=\"md\"\r\n                        :editable=\"showable\"\r\n                        placeholder=\"请输入文档内容...\"\r\n                        :boxShadow=\"true\"\r\n                        style=\"z-index:1;border: 1px solid #d9d9d9;height:85vh\"\r\n                        v-model=\"content\"\r\n                        :toolbars=\"toolbars\"/>\r\n            </el-form-item>\r\n\r\n        </el-form>\r\n        <!-- 评论弹窗 -->\r\n        <template>\r\n            <div>\r\n                <a-drawer\r\n                        title=\"文档评论\"\r\n                        placement=\"right\"\r\n                        :closable=\"false\"\r\n                        :visible=\"visible_drawer\"\r\n                        :after-visible-change=\"afterVisibleChange\"\r\n                        @close=\"onClose\"\r\n                        width=\"500\"\r\n                >\r\n                    <template>\r\n                        <a-list\r\n                                item-layout=\"vertical\"\r\n                                size=\"large\"\r\n                                :pagination=\"pagination\"\r\n                                :data-source=\"comment\"\r\n                        >\r\n                            <a-list-item slot=\"renderItem\" key=\"item.title\" slot-scope=\"item\">\r\n                                <template slot=\"actions\">\r\n                                <span key=\"comment-basic-like\">\r\n                                <a-tooltip title=\"Like\">\r\n                                    <a-icon\r\n                                            type=\"like\"\r\n                                            :theme=\"action === 'liked' ? 'filled' : 'outlined'\"\r\n                                            @click=\"like\"\r\n                                    />\r\n                                </a-tooltip>\r\n                                <span style=\"padding-left: 8px;cursor: auto\">{{ item.likes }}</span>\r\n                                </span>\r\n                                    <span key=\"comment-basic-dislike\">\r\n                                <a-tooltip title=\"Dislike\">\r\n                                    <a-icon\r\n                                            type=\"dislike\"\r\n                                            :theme=\"action === 'disliked' ? 'filled' : 'outlined'\"\r\n                                            @click=\"dislike\"\r\n                                    />\r\n                                </a-tooltip>\r\n                                <span style=\"padding-left: 8px;cursor: auto\">{{ item.dislikes }}</span>\r\n                                </span>\r\n                                    <span key=\"comment-basic-reply-to\">Reply to</span>\r\n                                    <span>{{item.time}}</span>\r\n                                </template>\r\n                                <b style=\"padding-left:5%\" @click=\"toUser(item)\">{{item.name}}</b>\r\n\r\n                                <a-list-item-meta :description=\"item.content\">\r\n                                    <a-avatar @click=\"toUser(item)\" slot=\"avatar\" :src=\"item.avatar\"/>\r\n                                </a-list-item-meta>\r\n                            </a-list-item>\r\n                        </a-list>\r\n                    </template>\r\n                    <a-divider/>\r\n                    <a-textarea v-if=\"this.isedit\" placeholder=\"请输入评论\" auto-size v-model=\"newcontent\"/>\r\n                    <br/>\r\n                    <br/>\r\n                    <el-button v-if=\"this.isedit\" type=\"primary\" @click=\"addcomment\" style=\"float:right\">提交评论\r\n                    </el-button>\r\n                </a-drawer>\r\n            </div>\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    //import editor from \"./Editorcomponment\";\r\n    import {partial_updateContent, getContent, getUserInfo, createComment} from \"../api/api\";\r\n\r\n    export default {\r\n        created() {\r\n            //此为创建页面时自动进行的\r\n            let users = JSON.parse(localStorage.getItem(\"user\"));\r\n            console.log(users.id > 0);\r\n            if (users.id > 0) {\r\n                this.isLogin = true;\r\n                this.getUserInfo();\r\n                this.getContent();\r\n                this.getComment();\r\n                this.setLink();\r\n\r\n            } else {\r\n                this.isLogin = false;\r\n            }\r\n        },\r\n        methods: {\r\n            getContent: function () {\r\n                //获得对应的文档内容\r\n                var cid = JSON.parse(this.$Base64.decode(this.$route.query.key)).id;\r\n                console.log(cid);\r\n                getContent({id: cid}).then((res) => {\r\n                    let {\r\n\r\n                        data: {id, title, content, createtime, changetime, isdelete, count, fav, uid},\r\n                    } = res;\r\n                    console.log(res);\r\n                    console.log(id, title, content, createtime, changetime, isdelete, count, uid, fav);\r\n                    this.docid = id;\r\n                    this.form.docname = title;\r\n                    this.content = content;\r\n                    this.createtime = createtime,\r\n                        this.changetime = changetime,\r\n                        this.isdelete = isdelete,\r\n                        this.count = count,\r\n                        this.uid = uid,\r\n                        this.fav = fav,\r\n                        this.getfav();\r\n                });\r\n                return \"\";\r\n            },\r\n            getfav() {\r\n                let users = JSON.parse(localStorage.getItem(\"user\"));\r\n                console.log(\"test\", this.fav, this.isedit)\r\n                if (users.id == this.uid) {\r\n                    this.isedit = true;\r\n                } else {\r\n                    if (this.fav == \"1\") {\r\n                        this.isedit = true;\r\n                    } else if (this.fav == \"2\") {\r\n                        this.isedit = false;\r\n                    } else if (this.fav == \"3\") {\r\n                        this.$router.push({path: '/reject'})\r\n                    }\r\n                }\r\n            },\r\n            getUserInfo() {\r\n                //从后端获取用户信息\r\n                let users = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n                getUserInfo({id: users.id}).then((res) => {\r\n                    let {\r\n                        data: {id, username, email, password},\r\n                    } = res;\r\n                    this.userinfo = {\r\n                        id: id,\r\n                        username: username,\r\n                        email: email,\r\n                    };\r\n                    this.dataForm.checkPassword = password;\r\n                });\r\n            },\r\n            getComment() {\r\n                var cid = JSON.parse(this.$Base64.decode(this.$route.query.key)).id;\r\n                console.log(cid);\r\n                getContent({id: cid}).then((res) => {\r\n                    console.log(res);\r\n                    this.comment = [];\r\n                    for (let item of res.data.comments) {\r\n                        console.log(item);\r\n                        getUserInfo({id: item.uid}).then((res) => {\r\n                            let {data} = res;\r\n                            let obj = {\r\n                                uid: data.id,\r\n                                name: data.username,\r\n                                avatar:\r\n                                    \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\r\n                                content: item.detail,\r\n                                action: null,\r\n                                time: item.com_datetime,\r\n                                likes: 0,\r\n                                dislikes: 0,\r\n                            };\r\n                            console.log(obj);\r\n                            this.comment.push(obj);\r\n                        });\r\n                    }\r\n                    console.log(this.comment);\r\n                });\r\n            },\r\n            onSubmit(formName) {\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        let date = this.$moment().format('YYYY-MM-DDThh:mm:ss')\r\n                        //后接跳转函数\r\n                        let form = {\r\n                            id: this.docid,\r\n                            title: this.form.docname,\r\n                            content: this.content,\r\n                            count: this.count + 1,\r\n                            fav: this.fav,\r\n                            changetime: date\r\n                        }\r\n                        partial_updateContent(form).then((response) => {\r\n                            if (response != null) {\r\n                                this.$message({\r\n                                    message: \"保存成功\",\r\n                                    type: \"success\",\r\n                                });\r\n                            } else {\r\n                                alert(\"保存失败\");\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            signOut() {\r\n                localStorage.removeItem(\"user\")\r\n                this.$router.push({path: '/login'})\r\n            },\r\n            setLink() {\r\n                //设置分享链接\r\n                this.documentlinks = \"http://localhost:8080/#\" + this.$route.path + \"?key=\" + this.$route.query.key;\r\n\r\n            },\r\n            toIndex() {\r\n                this.$router.push({path: \"/home\"});\r\n            },\r\n            toUser(item) {\r\n                let id = item.uid;\r\n                console.log(id);\r\n                 this.$router.push({path: \"/pmsg\", query: {id}});\r\n            },\r\n            collect() {\r\n                alert(\"收藏成功\");\r\n            },\r\n            /* 增加评论 */\r\n            addcomment() {\r\n                let date = this.$moment().format('YYYY-MM-DDThh:mm:ss')\r\n                this.newcomment.content = this.newcontent;\r\n                this.newcomment.name = this.userinfo.username;\r\n                this.newcomment.time = date;\r\n                this.newcontent = \"\";\r\n                let data = Object.assign({}, JSON.parse(JSON.stringify(this.newcomment)));\r\n                this.comment.push(data);\r\n                /* 把content传给后台，从后台请求comment */\r\n                let form = {\r\n                    uid: this.userinfo.id,\r\n                    cid: this.docid,\r\n                    detail: this.newcomment.content,\r\n                    com_datetime: date\r\n                }\r\n                createComment(form).then((response) => {\r\n                    if (response.data.flag === \"success\") {\r\n                        this.$message({\r\n                            message: \"评论成功\",\r\n                            type: \"success\",\r\n                        });\r\n                    } else {\r\n                        this.$message({\r\n                            message: \"评论成功\",\r\n                            type: \"warning\",\r\n                        });\r\n                    }\r\n                });\r\n\r\n            },\r\n            /* 控制分享modal */\r\n            showModal() {\r\n                this.visible = true;\r\n            },\r\n            hideModal() {\r\n                this.visible = false;\r\n            },\r\n            /* 控制评论点赞 */\r\n            like() {\r\n                this.likes++;\r\n\r\n                this.action = \"liked\";\r\n            },\r\n            dislike() {\r\n                this.dislikes++;\r\n                this.action = \"disliked\";\r\n            },\r\n            /* 控制评论弹窗 */\r\n            afterVisibleChange(val) {\r\n                console.log(\"visible\", val);\r\n            },\r\n            showDrawer() {\r\n                this.visible_drawer = true;\r\n            },\r\n            onClose() {\r\n                this.visible_drawer = false;\r\n            },\r\n            handleSelect() {\r\n            },\r\n            handleChange() {\r\n            },\r\n            confirm() {\r\n            },\r\n            toPmsg() {\r\n                let users = JSON.parse(localStorage.getItem(\"user\"));\r\n                let {id} = users;\r\n                console.log(id);\r\n                 this.$router.push({path: \"/pmsg\", query: {id}});\r\n            },\r\n        },\r\n        components: {\r\n            //editor,\r\n        },\r\n        data() {\r\n            return {\r\n                visible: false,\r\n                visible_drawer: false,\r\n                showable: true,\r\n\r\n                isedit: false,\r\n\r\n                documentlinks: \"\",\r\n\r\n                newcontent: \"\",\r\n                userinfo: {\r\n                    id: \"\",\r\n                    username: \"\",\r\n                    email: \"\",\r\n                },\r\n                options: [{\r\n                    value: '1',\r\n                    label: '可编辑'\r\n                }, {\r\n                    value: '2',\r\n                    label: '仅可查看',\r\n                }, {\r\n                    value: '3',\r\n                    label: '不可查看'\r\n                }],\r\n                newcomment: {\r\n                    name: \"001\",\r\n                    avatar:\r\n                        \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\r\n                    content: \"\",\r\n                    action: null,\r\n                    time: \"\",\r\n                    likes: 0,\r\n                    dislikes: 0,\r\n                },\r\n                comment: [],\r\n                toolbars: {\r\n                    bold: true, // 粗体\r\n                    italic: true, // 斜体\r\n                    header: true, // 标题\r\n                    underline: true, // 下划线\r\n                    strikethrough: true, // 中划线\r\n                    mark: true, // 标记\r\n                    superscript: true, // 上角标\r\n                    subscript: true, // 下角标\r\n                    quote: true, // 引用\r\n                    ol: true, // 有序列表\r\n                    ul: true, // 无序列表\r\n                    link: true, // 链接\r\n                    imagelink: true, // 图片链接\r\n                    code: true, // code\r\n                    table: true, // 表格\r\n                    fullscreen: false, // 全屏编辑\r\n                    readmodel: true, // 沉浸式阅读\r\n                    htmlcode: true, // 展示html源码\r\n                    help: true, // 帮助\r\n                    undo: true, // 上一步\r\n                    redo: true, // 下一步\r\n                    trash: true, // 清空\r\n                    save: false,\r\n                    navigation: true, // 导航目录\r\n                    alignleft: true, // 左对齐\r\n                    aligncenter: true, // 居中\r\n                    alignright: true, // 右对齐\r\n                    subfield: true, // 单双栏模式\r\n                    preview: true // 预览\r\n                },\r\n                docid: \"\",\r\n                form: {\r\n                    docname: \"\",\r\n                },\r\n                content: \"\",\r\n                createtime: \"\",\r\n                changetime: \"\",\r\n                isdelete: \"\",\r\n                count: \"\",\r\n                uid: \"\",\r\n                fav: \"\"\r\n            };\r\n        },\r\n    };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .home-container {\r\n        height: 100%;\r\n    }\r\n\r\n    .el-header {\r\n        background-color: #ffffff;\r\n        margin-bottom: 5px;\r\n        color: #333;\r\n        text-align: left;\r\n        line-height: 60px;\r\n        border: 1px solid #eee;\r\n        box-shadow: 0 0 10px #ddd;\r\n        align-items: center;\r\n    }\r\n\r\n    .el-aside {\r\n        padding-top: 30px;\r\n        background-color: #ffffff;\r\n        color: #333;\r\n        text-align: left;\r\n        line-height: 200px;\r\n        border-right: 1px solid #eee;\r\n\r\n        .el-menu {\r\n            border-right: none;\r\n        }\r\n    }\r\n\r\n    .el-main {\r\n        background-color: #f7f7f7;\r\n        // background-color: #ffffff;\r\n        color: #333;\r\n        text-align: center;\r\n    }\r\n\r\n    body > .el-container {\r\n        margin-bottom: 40px;\r\n    }\r\n\r\n    // 顶栏内容样式\r\n    .head-box1 {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n\r\n    .el-avatar {\r\n        margin: 10px 15px 10px 30px;\r\n    }\r\n\r\n    .site-name {\r\n        font-size: 30px;\r\n        color: #409eff;\r\n    }\r\n\r\n    .head-box3 {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: flex-end;\r\n    }\r\n\r\n    .row-bg {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Doc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Doc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Doc.vue?vue&type=template&id=55915f4a&scoped=true&\"\nimport script from \"./Doc.vue?vue&type=script&lang=js&\"\nexport * from \"./Doc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Doc.vue?vue&type=style&index=0&id=55915f4a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55915f4a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}