(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7e36"],{5313:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",{staticStyle:{height:"100%",width:"100%",border:"1px"}},[i("el-header",[i("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("清空回收站")])],1),i("el-main",[i("el-row",e._l(e.Files,(function(t,s){return i("el-col",{key:s,attrs:{span:4},nativeOn:{click:function(i){return e.detail(t)}}},[1==t.isdelete?i("div",[i("el-card",{staticStyle:{"margin-left":"20px"},attrs:{shadow:"hover"}},[i("div",{staticClass:"card-menu",staticStyle:{"text-align":"right"}},[i("el-dropdown",{attrs:{placement:"bottom"}},[i("div",{staticClass:"card-pic"},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"el-icon-setting el-icon--right"})])]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(i){return e.recover(t)}}},[i("i",{staticClass:"el-icon-setting"}),e._v("恢复 ")]),i("el-dropdown-item",{staticStyle:{color:"red"},nativeOn:{click:function(i){return e.deleteForever(t)}}},[i("i",{staticClass:"el-icon-delete"}),e._v("删除 ")])],1)],1)],1),i("div",{staticClass:"card-body"},[i("div",{staticClass:"card-picture"},[i("span",{staticStyle:{"font-size":"40px"}},[i("i",{staticClass:"el-icon-document"})])]),i("div",{staticClass:"card-word"},[i("div",{staticStyle:{"font-size":"20px"}},[e._v(e._s(t.title))]),i("div",{staticStyle:{"font-size":"10px"}},[e._v("创建："+e._s(t.createtime))]),i("div",{staticStyle:{"font-size":"10px"}},[e._v("修改："+e._s(t.changetime))])])])]),[i("a-modal",{staticStyle:{"z-index":"10010"},attrs:{title:"分享文件","ok-text":"确认","cancel-text":"取消"},on:{ok:function(t){e.linkvisible=!1}},model:{value:e.linkvisible,callback:function(t){e.linkvisible=t},expression:"linkvisible"}},[i("a-input-search",{attrs:{size:"large",placeholder:e.documentlinks,disabled:""}},[i("a-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.documentlinks,expression:"documentlinks",arg:"copy"}],attrs:{slot:"enterButton"},slot:"enterButton"},[e._v(" 复制链接 ")])],1)],1)]],2):e._e()])})),1),i("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("span",[e._v("将删除回收站内全部文件，该操作不可恢复，确定继续吗")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.deleteAll(),e.dialogVisible=!1}}},[e._v("确 定")])],1)])],1)],1)},o=[],n=i("b85c"),a=i("4ec3"),l={inject:["reload"],name:"Trash",components:{},data:function(){return{isLogin:!1,visible:!1,dialogVisible:!1,userinfo:{id:"",username:"",email:""},page:{page:1,page_size:10},pageCount:1,Files:[]}},created:function(){var e=JSON.parse(localStorage.getItem("user"));console.log(e.id>0),e.id>0?(this.isLogin=!0,this.getUserInfo(),this.getFileList()):this.isLogin=!1},watch:{},methods:{toIndex:function(){this.$router.push({path:"/"})},toEditor:function(){this.$router.push({path:"/editor"})},toPmsg:function(){var e=JSON.parse(localStorage.getItem("user")),t=e.id;console.log(t),this.$router.push({path:"/pmsg",query:{id:t}})},toRecent:function(){this.$router.push({path:"/recent"})},toFavour:function(){this.$router.push({path:"/favour"})},toMydoc:function(){this.$router.push({path:"/mydoc"})},toTrash:function(){this.$router.push({path:"/trash"})},showModal:function(){this.visible=!0},hideModal:function(){this.visible=!1},getUserInfo:function(){var e=this,t=JSON.parse(localStorage.getItem("user"));Object(a["m"])({id:t.id}).then((function(t){var i=t.data,s=i.id,o=i.username,n=i.email,a=i.user_contents;e.userinfo={id:s,username:o,email:n},e.Files=a,console.log(e.userinfo)}))},getFileList:function(){},handleRightMenuClick:function(){},detail:function(e){var t=e.id;console.log(t),this.$router.push({path:"/doc",query:{id:t}})},createFavourite:function(e){var t=this;console.log(e),Object(a["c"])({uid:this.userinfo.id,cid:e.id}).then((function(e){console.log(e),"success"===e.data.flag&&t.$message({message:"收藏成功",type:"success"})}))},recover:function(e){var t=this;console.log(e.id),Object(a["o"])({id:e.id,isdelete:0}).then((function(e){console.log(e),null!=e.data.id&&(t.$message({message:"恢复成功",type:"success"}),t.reload())}))},deleteForever:function(e){var t=this;Object(a["f"])({id:e.id}).then((function(e){console.log(e),t.$message({message:"删除成功",type:"success"}),t.reload()}))},deleteAll:function(){var e,t=this,i=Object(n["a"])(this.Files);try{for(i.s();!(e=i.n()).done;){var s=e.value;1==s.isdelete&&Object(a["f"])({id:s.id}).then((function(e){console.log(e),t.$message({message:"删除成功",type:"success"})}))}}catch(o){i.e(o)}finally{i.f()}this.reload()}}},c=l,r=i("2877"),d=Object(r["a"])(c,s,o,!1,null,"42ff567a",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0c7e36.b9b7d78a.js.map