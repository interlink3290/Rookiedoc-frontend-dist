{"version":3,"sources":["webpack:///./src/views/Register.vue?3f9e","webpack:///src/views/Register.vue","webpack:///./src/views/Register.vue?382a","webpack:///./src/views/Register.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","ref","attrs","form","rules","required","message","trigger","min","max","model","value","callback","$$v","$set","expression","type","on","$event","onSubmit","_v","toLogin","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0d6d35.26c45fca.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\",staticStyle:{\"width\":\"500px\",\"margin\":\"220px auto\",\"text-align\":\"center\"}},[_c('el-form',{ref:\"form\",staticStyle:{\"margin-top\":\"100px\",\"margin-left\":\"5px\",\"font-size\":\"38px\",\"float\":\"left\"},attrs:{\"model\":_vm.form,\"label-width\":\"80px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\",\"rules\":[\n                    {required: true, message: '请输入用户名', trigger: 'blur'},\n                    {min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur'}\n        ]}},[_c('el-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\",\"rules\":[\n                    { required: true, message: '请输入邮箱地址', trigger: 'blur' },\n                    { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] }\n        ]}},[_c('el-input',{model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\",\"autocomplete\":\"off\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"repassword\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\",\"autocomplete\":\"off\"},model:{value:(_vm.form.repassword),callback:function ($$v) {_vm.$set(_vm.form, \"repassword\", $$v)},expression:\"form.repassword\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('form')}}},[_vm._v(\"立即注册\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.toLogin()}}},[_vm._v(\"已有账号，去登陆\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"register\" style=\"width:500px;margin:220px auto;text-align:center\">\n        <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" :rules=\"rules\"\n                 style=\"margin-top:100px;margin-left:5px;font-size:38px;float:left\">\n            <el-form-item\n                    label=\"用户名\"\n                    prop=\"username\"\n                    :rules=\"[\n                        {required: true, message: '请输入用户名', trigger: 'blur'},\n                        {min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur'}\n            ]\">\n                <el-input v-model=\"form.username\"></el-input>\n            </el-form-item>\n            <el-form-item\n                    prop=\"email\"\n                    label=\"邮箱\"\n                    :rules=\"[\n                        { required: true, message: '请输入邮箱地址', trigger: 'blur' },\n                        { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] }\n            ]\">\n                <el-input v-model=\"form.email\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"密码\" prop=\"password\">\n                <el-input placeholder=\"请输入密码\" v-model=\"form.password\" show-password autocomplete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"确认密码\" prop=\"repassword\">\n                <el-input placeholder=\"请输入密码\" v-model=\"form.repassword\" show-password autocomplete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click=\"onSubmit('form')\">立即注册</el-button>\n                <el-button type=\"success\" @click=\"toLogin()\">已有账号，去登陆</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\n    import Vue from \"vue\";\n    Vue.prototype.$message = Message;\n    import {Message} from \"element-ui\";\n    import {register} from '../api/api'\n\n    export default {\n        data() {\n            var validatePass = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请输入密码'));\n                } else {\n                    if (this.form.repassword !== '') {\n                        this.$refs.form.validateField('repassword');\n                    }\n                    callback();\n                }\n            };\n            var validatePass2 = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请再次输入密码'));\n                } else if (value !== this.form.password) {\n                    callback(new Error('两次输入密码不一致!'));\n                } else {\n                    callback();\n                }\n            };\n            return {\n                form: {\n                    username: '',\n                    password: '',\n                    repassword: '',\n                    email: ''\n                },\n                rules: {\n                    password: [\n                        {validator: validatePass, trigger: 'blur'}\n                    ],\n                    repassword: [\n                        {validator: validatePass2, trigger: 'blur'}\n                    ],\n                }\n            }\n        },\n        methods: {\n            onSubmit(formName) {\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        //后接跳转函数\n                        var that = this;\n                        register({\n                            email: that.form.email,\n                            password: that.form.password,\n                            username: that.form.username,\n                        }).then((response) => {\n                            console.log(response)\n                            if (response.data.msg == \"success\") {\n                                this.$message({\n                                    message: \"注册成功\",\n                                    type: \"success\",\n                                });\n                                this.$router.push({path: '/login'});\n                            } else {\n                                this.$message.error(\"用户名重复，注册失败\");\n                            }\n\n\n                        }).catch(function (error) {\n\n                            console.log(error)\n                        });\n                    } else {\n                        console.log('error submit!!');\n                        this.$message.error(\"填写信息有误，请核查\");\n                        return false;\n                    }\n                });\n            },\n            toLogin() {\n                this.$router.push({path: '/login'});\n            }\n        }\n    }\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=018b486e&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}