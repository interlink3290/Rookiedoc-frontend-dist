(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aa3e4dc6"],{"2fd5":function(t,e,n){"use strict";var o=n("784d"),i=n.n(o);i.a},"49d7":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"docedit",staticStyle:{width:"900px",margin:"220px auto","text-align":"center"}},[[n("div",[n("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"标题","sub-title":"修改时间"},on:{back:function(e){return t.toIndex()}}},[n("template",{slot:"extra"},[n("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal","active-text-color":"none"},on:{select:t.handleSelect}},[n("el-menu-item",{staticClass:"nav",attrs:{index:"2"}}),n("el-menu-item",{staticClass:"nav",attrs:{index:"3"}},[t._v(" 消息中心 "),n("i",{staticClass:"el-icon-s-promotion"})]),n("el-submenu",{staticClass:"nav",attrs:{index:"4"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-user"}),t._v("个人中心 ")]),n("el-menu-item",{attrs:{index:"2-1"},on:{click:t.toPmsg}},[t._v("个人主页")]),n("el-menu-item",{attrs:{index:"2-2"},on:{click:t.signOut}},[t._v("退出登录")])],2)],1)],1)],2)],1)],n("el-form",{ref:"form",staticStyle:{"margin-top":"10px","margin-left":"5px","font-size":"38px"},attrs:{model:t.form,"label-width":"80px"}},[n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("提交")]),n("el-button",{attrs:{type:"success"},on:{click:function(e){return t.toIndex()}}},[t._v("取消")])],1),n("el-form-item",{attrs:{label:"文件名",prop:"docname",rules:[{required:!0,message:"请输入标题",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}]}},[n("el-input",{model:{value:t.form.docname,callback:function(e){t.$set(t.form,"docname",e)},expression:"form.docname"}})],1),n("el-form-item",[n("mavon-editor",{ref:"md",staticStyle:{"z-index":"1",border:"1px solid #d9d9d9",height:"85vh"},attrs:{editable:t.showable,placeholder:"请输入文档内容...",boxShadow:!0,toolbars:t.toolbars},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)],2)},i=[],a=n("4ec3"),s={created:function(){var t=JSON.parse(localStorage.getItem("user"));console.log(t.id>0),t.id>0?(console.log(t.id<0),this.isLogin=!0,this.$route.query.id>0&&this.getContent(),this.getfav()):this.isLogin=!1},methods:{getContent:function(){var t=this;Object(a["j"])({id:this.$route.query.id}).then((function(e){var n=e.data.content;console.log(e),console.log(n),t.content=n,console.log(t.form.docname,t.content)}))},onSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var n=localStorage.getItem("user");n=JSON.parse(n);var o=e.$moment().format("YYYY-MM-DDThh:mm:ss"),i={title:e.form.docname,content:e.content,isdelete:0,count:0,tid:"",uid:n.id,createtime:o,changetime:o};Object(a["b"])(i).then((function(t){"success"===t.data.flag?(alert("新建成功"),console.log(t.data),e.$router.push({path:"/home"})):(alert("新建失败"),e.$router.push({path:"/home"}))}))}}))},toIndex:function(){this.$router.push({path:"/home"})},toPmsg:function(){this.$router.push({path:"/pmsg"})},signOut:function(){localStorage.removeItem("user"),this.$router.push({path:"/login"})},collect:function(){alert("收藏成功")},showModal:function(){this.visible=!0},hideModal:function(){this.visible=!1},like:function(){this.likes++,this.action="liked"},dislike:function(){this.dislikes++,this.action="disliked"},handleSelect:function(){},handleChange:function(){},confirm:function(){}},components:{},data:function(){return{visible:!1,visible_drawer:!1,showable:!0,documentlinks:"http:\\xxxxx",toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!1,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!1,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0},form:{docname:""},content:"",createtime:"",changetime:"",isdelete:"",isread:"",count:"",uid:""}}},l=s,r=(n("2fd5"),n("2877")),c=Object(r["a"])(l,o,i,!1,null,"a30939c8",null);e["default"]=c.exports},"784d":function(t,e,n){}}]);
//# sourceMappingURL=chunk-aa3e4dc6.e655b2f1.js.map