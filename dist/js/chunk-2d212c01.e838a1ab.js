(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d212c01"],{aa6a:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticStyle:{height:"100%",width:"100%",border:"1px"}},[i("el-header",[i("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal"}},[i("el-menu-item",{attrs:{index:"1"},on:{click:t.toRecent}},[t._v("最近使用")]),i("el-menu-item",{attrs:{index:"2"},on:{click:t.toMydoc}},[t._v("我的创建")]),i("el-menu-item",{attrs:{index:"3"},on:{click:t.toFavour}},[t._v("我的收藏")])],1),i("div",[t._v("我的收藏")])],1),i("el-main",[i("el-row",t._l(t.Files,(function(e,n){return i("el-col",{key:n,attrs:{span:4},nativeOn:{click:function(i){return t.detail(e)}}},[0==e.isdelete?i("div",[i("el-card",{staticStyle:{"margin-left":"20px"},attrs:{shadow:"hover"}},[i("div",{staticClass:"card-menu",staticStyle:{"text-align":"right"}},[i("el-dropdown",{attrs:{placement:"bottom"}},[i("div",{staticClass:"card-pic"},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"el-icon-setting el-icon--right"})])]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(i){return t.detail(e)}}},[i("i",{staticClass:"el-icon-folder-opened"}),t._v("打开 ")]),i("el-dropdown-item",{nativeOn:{click:function(i){return t.deleteFavourite(e)}}},[i("i",{staticClass:"el-icon-collection-tag"}),t._v("移除收藏 ")]),i("el-dropdown-item",{nativeOn:{click:function(i){t.setLink(e),t.linkvisible=!0}}},[i("i",{staticClass:"el-icon-chat-line-round"}),t._v("分享 ")]),i("el-dropdown-item",{nativeOn:{click:function(i){return t.open(e)}}},[i("i",{staticClass:"el-icon-setting"}),t._v("加入团队文档 ")]),i("el-dropdown-item",{staticStyle:{color:"red"},nativeOn:{click:function(i){return t.deleteContent(e)}}},[i("i",{staticClass:"el-icon-delete"}),t._v("删除 ")])],1)],1)],1),i("div",{staticClass:"card-body"},[i("div",{staticClass:"card-picture"},[i("span",{staticStyle:{"font-size":"40px"}},[i("i",{staticClass:"el-icon-document"})])]),i("div",{staticClass:"card-word"},[i("div",{staticStyle:{"font-size":"20px"}},[t._v(t._s(e.title))]),i("div",{staticStyle:{"font-size":"10px"}},[t._v("创建："+t._s(e.createtime))]),i("div",{staticStyle:{"font-size":"10px"}},[t._v("修改："+t._s(e.changetime))])])])]),[i("a-modal",{staticStyle:{"z-index":"10010"},attrs:{title:"分享文件","ok-text":"确认","cancel-text":"取消"},on:{ok:function(e){t.linkvisible=!1}},model:{value:t.linkvisible,callback:function(e){t.linkvisible=e},expression:"linkvisible"}},[i("a-input-search",{attrs:{size:"large",placeholder:t.documentlinks,disabled:""}},[i("a-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.documentlinks,expression:"documentlinks",arg:"copy"}],attrs:{slot:"enterButton"},slot:"enterButton"},[t._v(" 复制链接 ")])],1)],1)]],2):t._e()])})),1),i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pageCount}})],1)],1)},o=[],s=i("b85c"),a=i("4ec3"),c={inject:["reload"],name:"Favour",components:{},data:function(){return{isLogin:!1,visible:!1,linkvisible:!1,userinfo:{id:"",username:"",email:""},page:{page:1,page_size:10},pageCount:1,Files:[],documentlinks:""}},created:function(){var t=JSON.parse(localStorage.getItem("user"));console.log(t.id>0),t.id>0?(this.isLogin=!0,this.getUserInfo(),this.getFileList()):this.isLogin=!1},watch:{},methods:{toIndex:function(){this.$router.push({path:"/"})},toEditor:function(){this.$router.push({path:"/editor"})},toPmsg:function(){var t=JSON.parse(localStorage.getItem("user")),e=t.id;console.log(e),this.$router.push({path:"/pmsg",query:{id:e}})},toRecent:function(){this.$router.push({path:"/recent"})},toFavour:function(){this.$router.push({path:"/favour"})},toMydoc:function(){this.$router.push({path:"/mydoc"})},toTrash:function(){this.$router.push({path:"/trash"})},showModal:function(){this.visible=!0},hideModal:function(){this.visible=!1},getUserInfo:function(){var t=this,e=JSON.parse(localStorage.getItem("user"));Object(a["m"])({id:e.id}).then((function(e){var i=e.data,n=i.id,o=i.username,s=i.email;t.userinfo={id:n,username:o,email:s},console.log(t.userinfo)}))},getFileList:function(){var t=this,e=JSON.parse(localStorage.getItem("user"));Object(a["m"])({id:e.id}).then((function(e){t.Files=[];var i,n=Object(s["a"])(e.data.user_favs);try{var o=function(){var e=i.value;console.log(e),Object(a["j"])({id:e.cid}).then((function(i){var n=i.data;console.log(n);var o={id:n.id,title:n.title,createtime:n.createtime,changetime:n.changetime,isdelete:n.isdelete,fid:e.id};console.log(o),t.Files.push(o)}))};for(n.s();!(i=n.n()).done;)o()}catch(c){n.e(c)}finally{n.f()}}))},handleRightMenuClick:function(){},open:function(t){var e=this;this.$prompt("请输入要将该文档加入的团队id","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"输入不能为空",inputValidator:function(t){if(!t)return"输入不能为空"}}).then((function(i){var n=i.value;Object(a["o"])({id:t.id,tid:n}).then((function(t){console.log(t),null!=t.data.id&&e.$message({message:"添加成功",type:"success"})}))})).catch((function(){e.$message({type:"info",message:"取消输入"})}))},detail:function(t){var e=t.id;console.log(e),this.$router.push({path:"/doc",query:{key:this.$Base64.encode(JSON.stringify({id:e}))}})},deleteFavourite:function(t){var e=this;console.log(t),Object(a["g"])({id:t.fid}).then((function(t){console.log(t),"success"===t.data.flag&&e.$message({message:"移除成功",type:"success"})}))},deleteContent:function(t){var e=this;Object(a["o"])({id:t.id,isdelete:1}).then((function(t){console.log(t),null!=t.data.id&&e.$message({message:"删除成功",type:"success"})}))},setLink:function(t){var e=t.id;console.log(e),this.documentlinks="http://localhost:8080/#/doc?key="+this.$Base64.encode(JSON.stringify({id:e}))}}},l=c,r=i("2877"),d=Object(r["a"])(l,n,o,!1,null,"27414c88",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d212c01.e838a1ab.js.map